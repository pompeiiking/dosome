【小程序开发经验记录】

日期：2024-06-09
项目：旅行推荐系统微信小程序前端
背景：本项目基于用户自定义的接口 JSON（如前后端信息交互.json），要求前端严格按字段实现，注重功能优先、结构简洁、交互体验良好，适合新手开发和后续样式重构。

【大模型理解提醒】
- 本经验总结适用于所有基于接口文档驱动、功能优先、样式可后置的小程序前端开发场景。
- 重点关注数据结构与 WXML 路径一致性、事件绑定准确性、复选框/单选框的原生实现方式。
- 如遇问题，优先排查数据结构、事件绑定、WXML 语法和控制台报错，避免在 WXML 写复杂 JS 表达式。

1. 用户需求习惯
- 通常先给出接口 JSON，要求前端字段严格对应，功能优先，样式可后置。
- 项目结构要求简洁，便于新手理解和后续扩展。
- 习惯先用最简代码测试功能，确认无误后再逐步完善和美化。
- 注重交互体验，尤其关注复选框的点击反馈和高亮。

2. 常见出错点与解决逻辑
- WXML 不支持复杂 JS 表达式（如 findIndex、item => ...），所有复杂计算都应在 JS 里完成，WXML 只用变量。
- 复选框多选必须用 <checkbox-group> 的 value 控制，checkbox 不要用 checked 属性，否则会出现点击后闪烁但无法保持选中。
- 数据结构要和 WXML 路径完全一致，事件名要和 WXML 绑定一致。
- 功能测试时不用样式，确认功能无误后再美化。
- 每次修改后保存所有文件并重启项目，遇到问题多用 console.log 调试。
- 如遇页面无显示、无反馈、点击无效，优先检查数据结构、事件绑定、WXML 语法和控制台报错。

3. 推荐开发流程
- 先用最简代码实现功能，确认无误后再美化。
- 所有复杂数据处理都在 JS 里完成，WXML 只用变量。
- 复选框多选用 <checkbox-group> + value，单选用 picker，所有 index 都在 JS 里算好。
- 严格保证数据结构和 WXML 路径一致。
- 每次修改后保存并重启小程序，及时查看控制台报错。
- 如遇问题，先用 console.log 打印调试，逐步定位。

4. 经验总结（适合大模型快速记忆）
- 复选框多选用 <checkbox-group> 的 value 控制，checkbox 不要用 checked。
- WXML 里不能写复杂 JS 表达式，所有 index、findIndex 等都要在 JS 里算好传给 WXML。
- 数据结构和 WXML 路径要完全一致，事件名和 WXML 绑定一致。
- 功能优先，样式可后置，测试时不用样式。
- 每次修改后保存并重启，遇到问题多用 console.log 调试。 